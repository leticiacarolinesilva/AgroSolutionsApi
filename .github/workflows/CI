name: CI - Unit Tests

# Define quando o workflow será executado
on:
  push:
    branches:
      - master 

jobs:
  test:
    name: Restore, Build and Test
    runs-on: ubuntu-latest

    steps:
    - name: Checkout do código
      uses: actions/checkout@v4

    - name: Configurar .NET
      uses: actions/setup-dotnet@v4
      with:
        dotnet-version: '8.0.x' # Ajuste para a versão do seu projeto (6.0, 7.0, 8.0)

    - name: Restaurar dependências
      run: dotnet restore

    - name: Build da solução
      run: dotnet build --no-restore --configuration Release

    - name: Executar Testes Unitários
      run: dotnet test --no-build --verbosity normal --configuration Release
